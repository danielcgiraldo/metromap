import { Tab, Tabs } from "nextra-theme-docs";
import Link from "next/link";
import { Callout } from 'nextra-theme-docs'

# Estado

Le permite al usuario consultar el estado de una l√≠nea o estaci√≥n espec√≠fica en tiempo real.

{<div className="row">

<Link className="btn default" href="https://god.gw.postman.com/run-collection/15715400-004293d1-b81b-47f9-8a41-bdacd691c661?action=collection%2Ffork&collection-url=entityId%3D15715400-004293d1-b81b-47f9-8a41-bdacd691c661%26entityType%3Dcollection%26workspaceId%3D48faf861-de30-4c02-87b9-3867c52a87c8" target="_blank">Ejecutar en Postman</Link>
<Link className="btn default" href="credenciales">Obtener credenciales</Link>
</div>}

### Endpoint URL

`https://api.metromap.online/v1/status/:line/:station`

### Autenticaci√≥n y l√≠mites de uso

{

<table><tbody>
    <tr>
        <th>M√©todos de autenticaci√≥n soportados por este<br/>endpoint</th>
        <td><Link className="contrast" href="../comenzar/credenciales">Secret key</Link></td>
    </tr>
    <tr>
        <th>Limites de uso</th>
        <td>
            <ul>
            <li>L√≠mite de uso del usuario (Contexto de usuario): 70 cr√©ditos
            para pruebas. 
            </li>
            <li>Consumo de cr√©ditos del Endpoint:
            <ul>
                <li>1.2 cr√©ditos por consulta a <code>/incident</code>
                </li>
                <li>0.8 cr√©ditos por consulta a <code>/incident/:line</code>
                </li>
                <li>0.6 cr√©ditos por consulta a <code>/incident/:line/:station</code>
                </li>
                </ul>
            </li>

            </ul>
        </td>
    </tr>

</tbody></table>

}

### Par√°metros de la URL

| Nombre    | Tipo   | Descripci√≥n                                                                                               |
| --------- | ------ | --------------------------------------------------------------------------------------------------------- |
| `line` {<><br/><code className="opt docs">OPCIONAL</code></>}    | string | El ID de la l√≠nea con la que filtrar el estado.                                                      |
| `station` {<><br/><code className="opt docs">OPCIONAL</code></>} | string | El ID de la estaci√≥n con la que filtrarel estado. Requiere haber definido una `line` anteriormente. |

<Callout emoji="üí°" type="info">
  Puedes obtener las estaciones y l√≠neas del sistema metro usando el endpoint [/data](data)
</Callout>

### C√≥digo de Ejemplo

<Tabs items={["curl", "python"]}>
    <Tab>
        ```curl 
        curl --location 'https://api.metromap.online/v1/status/' \
        --header 'secret-key: *******'
        ```
    </Tab>
    <Tab>
        ```python 
        import requests

        url = "https://api.metromap.online/v1/status/"

        payload={}
        headers = {
            'secret-key': '*******'
        }

        response = requests.request("GET", url, headers=headers, data=payload)

        print(response.text)
        ```
    </Tab>

</Tabs>

### Ejemplo de Respuestas

<Tabs items={["Respuesta exitosa", "Respuesta fallida", "Mantenimiento"]}>
    <Tab>
    ```json
    {
        status: "ok", 
        data: {
            "u_de_m" : {
                "status": "O",
            }
        }
    }
    ```
    </Tab>
    <Tab>
    ```json
    {
        "status": "error", 
        "error": "invalid_client_credentials", 
        "description": "secret-key not received"
    }
    ```
    </Tab>
    <Tab>
    ```json
    {
        "status": "error", 
        "error": "under_maintenance", 
        "description": "status is under maintenance"
    }
    ```
    </Tab>
</Tabs>
