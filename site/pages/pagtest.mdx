import { getMDXComponent } from 'mdx-bundler';
import { Profile } from './authtest';

const components = {
  Profile,
};

const mdxSource = `
# My MDX Content

<Profile />
`;

export default function Page({ source }) {
  const Component = getMDXComponent(source, { components });
  return <Component />;
}

export async function getStaticProps() {
  const { readFile } = require('fs/promises');
  const source = await readFile('./pagtest.mdx', 'utf8');
  const { code } = await bundleMDX(mdxSource);
  return { props: { source: code } };
}
